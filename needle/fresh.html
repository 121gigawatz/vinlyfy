<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Redirecting to Fresh Vinylfy...</title>
  <script>
    // Force clear everything and redirect
    (async () => {
      console.log('ðŸ§¹ Forcing fresh load...');

      // Unregister all service workers
      if ('serviceWorker' in navigator) {
        const registrations = await navigator.serviceWorker.getRegistrations();
        for (const reg of registrations) {
          console.log('Unregistering SW:', reg.scope);
          await reg.unregister();
        }
      }

      // Clear all caches
      if ('caches' in window) {
        const names = await caches.keys();
        for (const name of names) {
          console.log('Deleting cache:', name);
          await caches.delete(name);
        }
      }

      // Clear storage
      localStorage.clear();
      sessionStorage.clear();

      console.log('âœ… Cleared! Redirecting...');

      // Redirect with no-sw flag and cache buster
      const timestamp = Date.now();
      window.location.replace(`/?no-sw=true&t=${timestamp}`);
    })();
  </script>
</head>
<body style="font-family: system-ui; padding: 40px; text-align: center;">
  <h1>ðŸ§¹ Clearing cache...</h1>
  <p>Please wait, redirecting to fresh Vinylfy...</p>
</body>
</html>
